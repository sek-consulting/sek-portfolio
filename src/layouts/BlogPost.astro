---
import type { CollectionEntry } from "astro:content";
import BaseLayout from "./BaseLayout.astro";
import { getReadingTime } from "../lib/readingtime";

const readingTime = 0; //getReadingTime(Astro.props.compiledContent());

type Props = CollectionEntry<"blog">["data"];

const { title, description, publishDate, tags } = Astro.props;
---

<BaseLayout title={title} description={description} tags={tags} type="article">
  <div class="mx-auto my-20 max-w-2xl space-y-12 p-4 md:mt-40">
    <article>
      <h1 class="mb-2 text-4xl font-semibold md:text-6xl">
        {title}
      </h1>
      <div
        class="mb-8 flex w-full flex-col items-start dark:text-gray-400 md:flex-row md:items-center md:space-x-2"
      >
        <span>Published: {publishDate}</span>
        <span class="hidden md:block">&#x2022;</span>
        <span>
          {readingTime} min read
        </span>
      </div>
      <div>
        <slot />
      </div>
    </article>
    <div
      class="flex flex-wrap space-x-4 border-t border-dashed border-zinc-400 py-2"
    >
      {
        tags.map((tag) => (
          <a
            rel="noopener noreferrer"
            href="#"
            class="text-color-gradient text-lg font-semibold"
          >
            #{tag}
          </a>
        ))
      }
    </div>
  </div>
</BaseLayout>
